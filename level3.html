<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–°–±–æ—Ä–∫–∞ –º–∞—Ç—Ä–µ—à–∫–∏ ‚Äî –£—Ä–æ–≤–µ–Ω—å 3</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="matrs.css" />
</head>

<body>
  <div class="app">
    <div class="main-content">
      <header class="panel">
        <nav class="levels">
          <a href="start.html">–ì–ª–∞–≤–Ω–∞—è</a>
          <a id="level1Link" href="level1.html">–£—Ä–æ–≤–µ–Ω—å 1</a>
          <a id="level2Link" href="level2.html">–£—Ä–æ–≤–µ–Ω—å 2</a>
          <a id="level3Link" href="level3.html">–£—Ä–æ–≤–µ–Ω—å 3</a>
        </nav>
      </header>

      <section class="panel hud">
        <div class="hud-item">
          <div class="label">–£—Ä–æ–≤–µ–Ω—å</div>
          <div id="levelName" class="value">‚Äî</div>
        </div>
        <div class="hud-item">
          <div class="label">–ñ–∏–∑–Ω–∏</div>
          <div id="lives" class="value">‚ù§‚ù§‚ù§</div>
        </div>
        <div class="hud-item">
          <div class="label">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
          <div id="progress" class="value">0 / 0</div>
        </div>
        <div class="hud-item">
          <div class="label">–†–∞–∑–º–µ—Ä—ã</div>
          <div id="sizeLabel" class="value">–†–∞–∑–Ω—ã–µ</div>
        </div>

        <div class="hud-item">
          <div class="label">–í—Ä–µ–º—è</div>
          <div id="timer" class="value">‚Äî</div>
          <progress id="timerProgress" class="timer-progress" value="0" max="100"></progress>
        </div>
      </section>
      <section class="panel workspace">
        <div class="workspace-split">
          <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å: –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ -->
          <div class="column wrapping-area">
            <h2>–û–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –º–∞—Ç—Ä–µ—à–∫–∏</h2>
            <p class="muted">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ—Ç–∞–ª–∏ —Å–≤–µ—Ä—Ö—É, —á—Ç–æ–±—ã –æ–±–µ—Ä–Ω—É—Ç—å –≥–æ—Ç–æ–≤—É—é –º–∞—Ç—Ä–µ—à–∫—É.</p>
            <div class="wrapping-parts-container">
              <div id="wrappingParts" class="wrapping-parts"></div>
            </div>
            <div class="wrapping-doll-container">
              <div id="wrappingDoll" class="wrapping-doll-area"></div>
            </div>
          </div>
          <div class="column palette">
            <h2>–î–µ—Ç–∞–ª–∏ –∏ —Å–±–æ—Ä–∫–∞</h2>
            <p class="muted">–î–µ—Ç–∞–ª–∏ –¥–≤–∏–≥–∞—é—Ç—Å—è –≤ –±–æ–∫—Å–µ. –ü–æ–π–º–∞–π—Ç–µ –Ω—É–∂–Ω—ã–µ –∏ —Å–∫—Ä–µ–ø–ª—è–π—Ç–µ –∏—Ö –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º ‚Äî –≥–æ–ª–æ–≤–∞ –∫
              —Ç—É–ª–æ–≤–∏—â—É,
              —Ç—É–ª–æ–≤–∏—â–µ –∫ –æ—Å–Ω–æ–≤–∞–Ω–∏—é.</p>
            <div class="row">
              <button id="generateParts">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–±–æ—Ä</button>
              <button id="clearParts" class="ghost">–û—á–∏—Å—Ç–∏—Ç—å –¥–µ—Ç–∞–ª–∏</button>
              <div id="toolsPanel" class="tools-panel">
                <div class="tool" data-tool="sponge" title="–ì—É–±–∫–∞ ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å –≥—Ä—è–∑—å">
                  <img src="img/sponge.png" alt="–ì—É–±–∫–∞">
                </div>
                <div class="tool" data-tool="hammer" title="–ú–æ–ª–æ—Ç–æ–∫ ‚Äî —Ä–∞–∑–±–∏—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å–±–æ—Ä–∫—É">
                  <img src="img/hammer.png" alt="–ú–æ–ª–æ—Ç–æ–∫">
                </div>
              </div>
            </div>

            <div id="partsTray" class="parts-tray"></div>
      </section>
    </div>
    <section class="panel shelf-panel">
      <div class="column shelf-column">
        <h2>–ì–æ—Ç–æ–≤—ã–µ –º–∞—Ç—Ä–µ—à–∫–∏</h2>
        <div id="shelf" class="shelf"></div>
      </div>
    </section>
  </div>
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–±–µ–¥—ã -->
  <div id="winModal" class="modal-overlay">
    <div class="modal-content win-modal">
      <div class="modal-icon">üéâ</div>
      <h2>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h2>
      <p class="modal-subtitle">–í—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–ª–∏ –≤—Å–µ –º–∞—Ç—Ä–µ—à–∫–∏!</p>

      <div class="score-board">
        <div class="score-item">
          <span class="score-label">–°–æ–±—Ä–∞–Ω–æ –º–∞—Ç—Ä–µ—à–µ–∫:</span>
          <span class="score-value" id="scoreMatryoshkas">0</span>
        </div>
        <div class="score-item">
          <span class="score-label">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ –≤—Ä–µ–º–µ–Ω–∏:</span>
          <span class="score-value" id="scoreTime">0:00</span>
        </div>
        <div class="score-item">
          <span class="score-label">–û—Å—Ç–∞–ª–æ—Å—å –∂–∏–∑–Ω–µ–π:</span>
          <span class="score-value" id="scoreLives">3</span>
        </div>
        <div class="score-item total">
          <span class="score-label">–û–±—â–∏–π —Å—á–µ—Ç:</span>
          <span class="score-value" id="scoreTotal">0</span>
        </div>
        <div class="score-item summary" id="summaryItem" style="display: none;">
          <span class="score-label" id="summaryLabel">–ò—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç (—É—Ä–æ–≤–Ω–∏ 1-2):</span>
          <span class="score-value" id="scoreSummary">0</span>
        </div>
      </div>

      <div class="modal-buttons">
        <button id="nextLevelBtn" class="btn-primary">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Üí</button>
        <button id="restartLevelBtn" class="btn-secondary">–ò–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑</button>
        <button id="mainMenuBtn" class="btn-ghost">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ—Ä–∞–∂–µ–Ω–∏—è -->
  <div id="loseModal" class="modal-overlay">
    <div class="modal-content lose-modal">
      <div class="modal-icon">üò¢</div>
      <h2>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞</h2>
      <p class="modal-subtitle">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!</p>

      <div class="score-board">
        <div class="score-item">
          <span class="score-label">–°–æ–±—Ä–∞–Ω–æ –º–∞—Ç—Ä–µ—à–µ–∫:</span>
          <span class="score-value" id="loseMatryoshkas">0</span>
        </div>
        <div class="score-item">
          <span class="score-label">–û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏:</span>
          <span class="score-value" id="loseTime">0:00</span>
        </div>
        <div class="score-item">
          <span class="score-label">–ü—Ä–∏—á–∏–Ω–∞ –ø–æ—Ä–∞–∂–µ–Ω–∏—è:</span>
          <span class="score-value" id="loseReason">‚Äî</span>
        </div>
      </div>

      <div class="modal-buttons">
        <button id="restartAfterLoseBtn" class="btn-primary">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â–µ —Ä–∞–∑</button>
        <button id="mainMenuLoseBtn" class="btn-secondary">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
      </div>
    </div>
  </div>

  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ (—Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–æ–≤) -->
  <div id="confetti-container"></div>

  <!-- –ó–∞–ø–∏—Å–∫–∞ –¥–ª—è —É—Ä–æ–≤–Ω—è 3 -->
  <div id="levelNote" style="display: none;">
    <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.5); z-index: 1000; max-width: 400px;">
      <h3>–ó–£—Ä–æ–≤–µ–Ω—å 3.</h3>
      <p>–í–∞—à–∞ –∑–∞–¥–∞—á–∞ —Å–Ω–æ–≤–∞ —Å–æ–±—Ä–∞—Ç—å –∏ –æ–±–µ—Ä–Ω—É—Ç—å –º–∞—Ç—Ä–µ—à–∫–∏, –∫–∞–∫ –≤ —É—Ä–æ–≤–Ω—è—Ö 1 –∏ 2. –¢–æ–ª—å–∫–æ —Ç–µ–ø–µ—Ä—å –¥–µ—Ç–∞–ª—å–∫–∏ –ø—ã–ª—å–Ω—ã–µ –∏ —Å–∫–ª–µ–Ω–Ω—ã–µ. –û—á–∏—Å—Ç–∏—Ç–µ –∏ —Ä–∞–∑—ä–µ–¥–∏–Ω–∏—Ç–µ –∏—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –º–æ</p>
      <button onclick="document.getElementById('levelNote').style.display='none'">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>

</html>
